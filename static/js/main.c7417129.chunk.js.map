{"version":3,"sources":["components/Header/style.module.scss","components/MainPage/style.module.scss","components/Preloader/style.module.scss","components/Login/style.module.scss","api/api.js","reducer/AppReducer/index.jsx","reducer/AuthReducer/index.jsx","components/Header/index.jsx","components/Login/index.jsx","components/Preloader/index.jsx","components/MainPage/index.jsx","hoc/withAuth.jsx","App.js","serviceWorker.js","Store/reduxStore.js","index.js"],"names":["module","exports","header","logo","line","login","logout","admin_block","main__page","loader_bg","loader","login__block","formControl","error","tokken","params","access-token","instance","axios","baseURL","UserApi","CurrentPage","get","concat","InitialState","PhotoData","_meta","pageCount","TotalUserCount","currentPage","isFetching","SetIsFetching","type","PhotoPageReducer","state","arguments","length","undefined","action","Object","objectSpread","photo","metaData","loginData","firstName","lastName","avatarUrl","isAuth","loginType","setDataFromStore","authData","isAuthAC","turn","AuthReducer","userData","profileObj","givenName","familyName","imageUrl","userDataFB","name","split","picture","data","url","connect","AuthPage","logoutThunkCreator","_ref3","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","wrap","_context3","prev","next","localStorage","clear","stop","_x3","apply","this","props","react_default","createElement","className","cls","style","backgroundImage","src","google_login","clientId","buttonText","onLogoutSuccess","onClick","loginwithGoogleThunkCreator","response","_ref","_callee","_context","setItem","JSON","stringify","_x","loginwithFacebookThunkCreator","_ref2","_callee2","_context2","_x2","react_router","to","facebook_login_with_button_default","appId","fields","callback","google_login_default","onSuccess","onFailure","alert","Aside","alt","compose","MainPage","getPhotoThunkCreator","sent","status","result","Component","RedirectComponent","_React$PureComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","value","parse","getItem","React","PureComponent","useEffect","Preloader","map","e","id","title","show_more","App","components_Header","path","render","components_Login","components_MainPage","Boolean","window","location","hostname","match","reducers","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","logger","ReactDOM","react_router_dom","basename","process","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c7417129.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__3lJex\",\"logo\":\"style_logo__5V5bi\",\"line\":\"style_line__1yCZR\",\"login\":\"style_login__2Tk6B\",\"logout\":\"style_logout__3CAJz\",\"admin_block\":\"style_admin_block__2AKXI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__page\":\"style_main__page__25vq1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader_bg\":\"style_loader_bg__nOQIC\",\"loader\":\"style_loader__rI93m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__block\":\"style_login__block__QcXUA\",\"formControl\":\"style_formControl__2WJzG\",\"error\":\"style_error__iK5vR\"};","import * as axios from 'axios/index';\r\n\r\nconst tokken = {\r\n\tparams: {\r\n\t\t'access-token': 'q4TogSNtq56u_RergrgFCy_SMlwY-yiCV8_I',\r\n\t},\r\n\t// headers: {\r\n\t// \tAuthorization: 'Bearer q4TogSNtq56u_RergrgFCy_SMlwY-yiCV8_I',\r\n\t// },\r\n};\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://gorest.co.in/public-api',\r\n});\r\n\r\nexport const UserApi = {\r\n\tgetPhoto(CurrentPage) {\r\n\t\treturn instance.get(`/photos?page=${CurrentPage}`, tokken);\r\n\t},\r\n\r\n};\r\n","import { UserApi } from '../../api/api';\r\n\r\nconst SET_PHOTO = 'SET_PHOTO';\r\nconst SET_META_DATA = 'SET_META_DATA';\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING';\r\nconst SET_INITIAL_PHOTO  = 'SET_INITIAL_PHOTO ';\r\n\r\nlet InitialState = {\r\n\tPhotoData: [],\r\n\t_meta: {\r\n\t\tpageCount: 0,\r\n\t\tTotalUserCount: 0,\r\n\t\tcurrentPage: 1,\r\n\t},\r\n\r\n\tisFetching: false,\r\n};\r\n\r\nlet PhotoPageReducer = (state = InitialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_PHOTO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tPhotoData: state.PhotoData.concat(action.photo)\r\n\t\t\t};\r\n\t\t\tcase SET_INITIAL_PHOTO :\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tPhotoData: []\r\n\t\t\t};\r\n\r\n\t\tcase SET_META_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t_meta: action.metaData,\r\n\t\t\t};\r\n\t\tcase TOGGLE_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const SetPhoto = photo => ({ type: SET_PHOTO, photo });\r\nexport const SetInitialPhotoData = () => ({ type: SET_INITIAL_PHOTO });\r\nexport const SetMetaData = metaData => ({ type: SET_META_DATA, metaData });\r\nexport const SetIsFetching = isFetching => ({ type: TOGGLE_FETCHING, isFetching });\r\n\r\nexport const getPhotoThunkCreator = CurrentPage => async dispatch => {\r\n\tdispatch(SetIsFetching(true));\r\n\tlet response = await UserApi.getPhoto(CurrentPage);\r\n\r\n\tif (response.status === 200) {\r\n\t\tdispatch(SetPhoto(response.data.result));\r\n\t\tdispatch(SetMetaData(response.data._meta));\r\n\t\tdispatch(SetIsFetching(false));\r\n\t}\r\n};\r\n\r\n\r\nexport default PhotoPageReducer;\r\n","import { SetInitialPhotoData } from '../AppReducer';\r\n\r\nconst GOOGLE_ACCESS = 'GOOGLE_ACCESS';\r\nconst FACEBOOK_ACCESS = 'FACEBOOK_ACCESS';\r\nconst SET_AUTH = 'SET_AUTH';\r\nconst SET_DATA_FROM_STORE = 'SET_DATA_FROM_STORE';\r\nconst LOGIN_TYPE_GOOGLE = 'LOGIN_TYPE_GOOGLE';\r\nconst LOGIN_TYPE_FACEBOOK = 'LOGIN_TYPE_FACEBOOK';\r\n\r\n\r\n\r\n\r\n\r\nlet InitialState = {\r\n\tloginData: {\r\n\t\tfirstName:'',\r\n\t\tlastName:'',\r\n\t\tavatarUrl:''\r\n\t},\r\n\tisAuth:false,\r\n\tloginType:false,\r\n};\r\n\r\nlet AuthReducer = (state = InitialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_AUTH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuth: action.turn,\r\n\t\t\t};\r\n\t\t\tcase LOGIN_TYPE_GOOGLE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginType: 'GOOGLE',\r\n\t\t\t};\r\n\t\t\tcase LOGIN_TYPE_FACEBOOK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginType: 'FACEBOOK',\r\n\t\t\t};\r\n\r\n\t\tcase GOOGLE_ACCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginData:{\r\n\t\t\t\t\tfirstName:action.userData.profileObj.givenName,\r\n\t\t\t\t\tlastName:action.userData.profileObj.familyName,\r\n\t\t\t\t\tavatarUrl:action.userData.profileObj.imageUrl\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tcase FACEBOOK_ACCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginData:{\r\n\t\t\t\t\tfamilyName:action.userDataFB.name.split(' ')[1],\r\n\t\t\t\t\tgivenName:action.userDataFB.name.split(' ')[0],\r\n\t\t\t\t\timageUrl:action.userDataFB.picture.data.url,\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tcase SET_DATA_FROM_STORE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginData:{\r\n\t\t\t\t\tfirstName:action.authData.givenName,\r\n\t\t\t\t\tlastName:action.authData.familyName,\r\n\t\t\t\t\tavatarUrl:action.authData.imageUrl,\r\n\t\t\t\t},\r\n\t\t\t\tisAuth:true,\r\n\t\t\t\tloginType:action.authData.loginType\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\n\r\nexport const googleAccess = userData => ({\r\n\ttype: GOOGLE_ACCESS,\r\n\tuserData,\r\n});\r\n\r\nexport const facebookAccess = userDataFB => ({\r\n\ttype: FACEBOOK_ACCESS,\r\n\tuserDataFB,\r\n});\r\n\r\nexport const loginWithGoogle = () => ({\r\n\ttype: LOGIN_TYPE_GOOGLE,\r\n});\r\nexport const loginWithFacebook = () => ({\r\n\ttype: LOGIN_TYPE_FACEBOOK,\r\n});\r\n\r\nexport const setDataFromStore = authData => ({\r\n\ttype: SET_DATA_FROM_STORE,\r\n\tauthData,\r\n});\r\n\r\nexport const isAuthAC = turn => ({\r\n\ttype: SET_AUTH,\r\n\tturn,\r\n});\r\n\r\n\r\nexport const loginwithGoogleThunkCreator = (response) => async dispatch => {\r\n\t  dispatch(googleAccess(response));\r\n\t  dispatch(loginWithGoogle());\r\n\t  dispatch(SetInitialPhotoData());\r\n\t await localStorage.setItem('User', JSON.stringify({\r\n\t\t isAuth:true,\r\n\t\t familyName:response.profileObj.familyName,\r\n\t\t givenName:response.profileObj.givenName,\r\n\t\t imageUrl:response.profileObj.imageUrl,\r\n\t\t loginType:'GOOGLE'\r\n\r\n\t }));\r\n\tdispatch(isAuthAC(true));\r\n\r\n};\r\n\r\nexport const loginwithFacebookThunkCreator = (response) => async dispatch => {\r\n\t  dispatch(facebookAccess(response));\r\n\t  dispatch(loginWithFacebook());\r\n\tdispatch(SetInitialPhotoData());\r\n\t await localStorage.setItem('User', JSON.stringify({\r\n\t\t isAuth:true,\r\n\t\t familyName:response.name.split(' ')[1],\r\n\t\t givenName:response.name.split(' ')[0],\r\n\t\t imageUrl:response.picture.data.url,\r\n\t\t loginType:'FACEBOOK'\r\n\r\n\t }));\r\n\tdispatch(isAuthAC(true));\r\n\r\n};\r\nexport const logoutThunkCreator = () => async dispatch => {\r\n\tdispatch(isAuthAC(false));\r\n\tlocalStorage.clear();\r\n};\r\n\r\n\r\nexport default AuthReducer;\r\n","import React from 'react';\r\nimport cls from './style.module.scss';\r\nimport { GoogleLogout } from 'react-google-login';\r\nimport { connect } from 'react-redux';\r\nimport { logoutThunkCreator } from '../../reducer/AuthReducer';\r\n\r\n\r\n\r\nfunction Header(props) {\r\n\tconst googleLogout = () =>{\r\n\r\n\t\tprops.logoutThunkCreator();\r\n\t}\r\n\tconst fbLogout = () =>{\r\n\r\n\t\tprops.logoutThunkCreator();\r\n\t}\r\n\r\n    return (\r\n\r\n        <header>\r\n            <div className=\"container\">\r\n                <div className={`line ${cls.line}`}>\r\n                    <div className=\"left\">\r\n                        <div className={cls.logo}\r\n                             style={{backgroundImage: 'url(https://www.freeiconspng.com/uploads/flame-logo-png-30.png)'}}/>\r\n                        <p className={cls.header}>DevloopTest</p>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        {props.isAuth ? <div className={cls.admin_block}>\r\n                            <p className={cls.login}>\r\n                                <img src={props.avatarUrl} />\r\n                                <span>{props.firstName}</span>\r\n                            </p>\r\n\t\t\t\t\t\t\t\t{props.loginType === 'GOOGLE' ?\r\n\t\t\t\t\t\t\t\t\t<GoogleLogout\r\n\t\t\t\t\t\t\t\t\t\tclientId=\"348224920183-816oinrvdk17mtt1rm1np501gca70gvc.apps.googleusercontent.com\"\r\n\t\t\t\t\t\t\t\t\t\tbuttonText=\"Logout\"\r\n\t\t\t\t\t\t\t\t\t\tonLogoutSuccess={googleLogout}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t: props.loginType === 'FACEBOOK' ?\r\n\t\t\t\t\t\t\t\t\t\t<button onClick={fbLogout}>Logout</button>\r\n\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n                        </div> : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nlet MapStateToProps = state => {\r\n\treturn {\r\n\t\tfirstName: state.AuthPage.loginData.firstName,\r\n\t\tavatarUrl:state.AuthPage.loginData.avatarUrl,\r\n\t\tisAuth: state.AuthPage.isAuth,\r\n\t\tloginType: state.AuthPage.loginType\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tMapStateToProps,\r\n\t{ logoutThunkCreator },\r\n)(Header);","import React from 'react';\r\nimport cls from './style.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { loginwithFacebookThunkCreator, loginwithGoogleThunkCreator } from '../../reducer/AuthReducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Login = props => {\r\n\r\n\tconst responseFacebook = (response) => {\r\n\t\tprops.loginwithFacebookThunkCreator(response);\r\n\t}\r\n\r\n\tconst responseGoogleSucces = (response) => {\r\n\r\n\t\tprops.loginwithGoogleThunkCreator(response);\r\n\t}\r\n\tconst responseGoogleFail = (response) => {\r\n\t\talert(response);\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to=\"/\" />;\r\n\t}\r\n\r\n\treturn (\r\n\r\n\r\n\t\t<div className={cls.login__block}>\r\n\t\t\t<FacebookLogin\r\n\t\t\t\tappId=\"2679541375437548\" //APP ID NOT CREATED YET\r\n\t\t\t\tfields=\"name,email,picture\"\r\n\t\t\t\tcallback={responseFacebook}\r\n\r\n\t\t\t/>\r\n\r\n\t\t\t<GoogleLogin\r\n\t\t\t\tclientId=\"348224920183-816oinrvdk17mtt1rm1np501gca70gvc.apps.googleusercontent.com\" //CLIENTID NOT CREATED YET\r\n\t\t\t\tbuttonText=\"LOGIN WITH GOOGLE\"\r\n\t\t\t\tonSuccess={responseGoogleSucces}\r\n\t\t\t\tonFailure={responseGoogleFail}\r\n\t\t\t/>\r\n\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tisAuth:state.AuthPage.isAuth\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{loginwithGoogleThunkCreator,loginwithFacebookThunkCreator }\r\n)(Login);\r\n","import React from 'react';\r\nimport cls from './style.module.scss';\r\n\r\n\r\nconst Aside = () => {\r\n    return (\r\n\r\n        <div className={cls.loader_bg}><img className={cls.loader}\r\n                                            src=\"https://thumbs.gfycat.com/GlassFilthyIsabellinewheatear-small.gif\"\r\n                                            alt=\"preloader\"/></div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Aside;\r\n\r\n\r\n","import React, { useEffect} from 'react';\r\nimport cls from './style.module.scss';\r\nimport { withAuthRedirect } from '../../hoc/withAuth';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { getPhotoThunkCreator } from '../../reducer/AppReducer';\r\nimport Preloader from '../Preloader';\r\n\r\n\r\nlet MainPage =(props)=>{\r\n\t// componentDidMount(){\r\n\t// \tthis.props.getPhotoThunkCreator(this.props._meta.CurrentPage);\r\n\t// }\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tprops.getPhotoThunkCreator(props._meta.currentPage);\r\n\t\t},[]\r\n\r\n\t);\r\n\r\n\r\n\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div className={`${cls.main__page}`}>\r\n\t\t\t\t{props.isFetching ? <Preloader /> : null}\r\n\t\t\t\t{props.PhotoData.map(e =>(\r\n\t\t\t\t\t<div key={e.id}>\r\n\t\t\t\t\t\t<img  src={e.url} alt=\"\"/>\r\n\t\t\t\t\t\t<p>{e.title}</p>\r\n\t\t\t\t\t</div>))}\r\n\r\n\r\n\t\t\t\t\t<button onClick={()=>{\r\n\r\n\t\t\t\t\t\tprops.getPhotoThunkCreator(props._meta.currentPage + 1);\r\n\t\t\t\t\t}} className={cls.show_more}>\r\n\t\t\t\t\t\tShow more\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn{\r\n\t\t_meta: state.MainPage._meta,\r\n\t\tPhotoData:state.MainPage.PhotoData,\r\n\t\tisFetching:state.MainPage.isFetching,\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps,{getPhotoThunkCreator}),withAuthRedirect)(MainPage);","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport { isAuthAC, setDataFromStore } from '../reducer/AuthReducer';\r\n\r\nexport const withAuthRedirect = (Component) =>{\r\n\tlet mapStateToPropsRedirect = (state) =>{\r\n\t\treturn{\r\n\t\t\tisAuth: state.AuthPage.isAuth\r\n\t\t}\r\n\t}\r\n\r\n\tclass RedirectComponent extends React.PureComponent{\r\n\t    componentWillMount() {\r\n\r\n\t        if(!(JSON.parse(localStorage.getItem('User')) === null)){\r\n\t\t\t\tlet authData = JSON.parse(localStorage.getItem('User'));\r\n\t\t\t\tthis.props.setDataFromStore(authData);\r\n            }\r\n\r\n\t\t}\r\n\t\trender(){\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n\t\t\treturn <Component {...this.props}/>\r\n\t\t}\r\n\t}\r\n\tlet withAutRedircetComponent = connect(mapStateToPropsRedirect,{isAuthAC, setDataFromStore})(RedirectComponent);\r\n\treturn withAutRedircetComponent;\r\n}","import React from 'react';\nimport './App.css';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './components/Header/';\nimport Login from './components/Login';\nimport MainPage from './components/MainPage';\n\n\nclass App extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App \">\n\t\t\t\t<Header />\n\t\t\t\t<div className=\"main__part container\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\" render={() => <Login />} />\n\t\t\t\t\t\t<Route path=\"/\" render={() => <MainPage />} />\n\t\t\t\t\t\t<Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { applyMiddleware, compose, createStore } from 'redux';\r\nimport combineReducers from 'redux/src/combineReducers';\r\nimport AuthReducer from '../reducer/AuthReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { logger } from 'redux-logger';\r\nimport PhotoPageReducer from '../reducer/AppReducer';\r\n\r\nlet reducers = combineReducers({\r\n\r\n\tAuthPage: AuthReducer,\r\n\tMainPage: PhotoPageReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware, logger)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware, logger));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './Store/reduxStore';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n\t<HashRouter basename={process.env.PUBLIC_URL}>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</HashRouter>,\n\tdocument.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}